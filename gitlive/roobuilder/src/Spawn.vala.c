/* Spawn.vala.c generated by valac, the Vala compiler
 * generated from Spawn.vala, do not modify */

/*/ # valac  --pkg gio-2.0    --pkg posix Spawn.vala -o /tmp/Spawn*/

#include <glib.h>
#include <glib-object.h>
#include <stdlib.h>
#include <string.h>


#define TYPE_SPAWN (spawn_get_type ())
#define SPAWN(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), TYPE_SPAWN, Spawn))
#define SPAWN_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), TYPE_SPAWN, SpawnClass))
#define IS_SPAWN(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), TYPE_SPAWN))
#define IS_SPAWN_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), TYPE_SPAWN))
#define SPAWN_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), TYPE_SPAWN, SpawnClass))

typedef struct _Spawn Spawn;
typedef struct _SpawnClass SpawnClass;
typedef struct _SpawnPrivate SpawnPrivate;
#define _g_free0(var) (var = (g_free (var), NULL))
#define _g_main_loop_unref0(var) ((var == NULL) ? NULL : (var = (g_main_loop_unref (var), NULL)))
#define _g_io_channel_unref0(var) ((var == NULL) ? NULL : (var = (g_io_channel_unref (var), NULL)))
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
#define _g_error_free0(var) ((var == NULL) ? NULL : (var = (g_error_free (var), NULL)))

/**
 * Revised version?
 * 
 * x = new Spawn( "/tmp", {"ls", "-l" })
 * 
 * // these are optionall..
 * x.env = ..... (if you need to set one...
 * x.output_line.connect((string str) => { 
 * 		if ( Gtk.events_pending()) { Gtk.main_iteration(); } 
 * });
 * x.input_line.connect(() => { return string });
 * 
 * x.run((int res, string output, string stderr) => { ... });

 * 
 * 
 */
typedef enum  {
	SPAWN_ERROR_NO_ARGS,
	SPAWN_ERROR_WRITE_ERROR,
	SPAWN_ERROR_EXECUTE_ERROR
} SpawnError;
#define SPAWN_ERROR spawn_error_quark ()
struct _Spawn {
	GObject parent_instance;
	SpawnPrivate * priv;
	gchar* cwd;
	gchar** args;
	gint args_length1;
	gchar** env;
	gint env_length1;
	gboolean is_async;
	gboolean throw_exceptions;
	gboolean detach;
	gchar* output;
	gchar* stderr;
	gint result;
};

struct _SpawnClass {
	GObjectClass parent_class;
};

struct _SpawnPrivate {
	GMainLoop* ctx;
	gint pid;
	GIOChannel* in_ch;
	GIOChannel* out_ch;
	GIOChannel* err_ch;
	gint err_src;
	gint out_src;
};


static gpointer spawn_parent_class = NULL;

GQuark spawn_error_quark (void);
GType spawn_get_type (void) G_GNUC_CONST;
#define SPAWN_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), TYPE_SPAWN, SpawnPrivate))
enum  {
	SPAWN_DUMMY_PROPERTY
};
Spawn* spawn_new (const gchar* cwd, gchar** args, int args_length1, GError** error);
Spawn* spawn_construct (GType object_type, const gchar* cwd, gchar** args, int args_length1, GError** error);
static gchar** _vala_array_dup15 (gchar** self, int length);
void spawn_run (Spawn* self, GError** error);
static void ___lambda16_ (Spawn* self, GPid pid, gint status);
static void ____lambda16__gchild_watch_func (GPid pid, gint status, gpointer self);
static void __lambda17_ (Spawn* self, GPid w_pid, gint _result_);
static gboolean spawn_read (Spawn* self, GIOChannel* ch);
static void spawn_tidyup (Spawn* self);
static void ___lambda17__gchild_watch_func (GPid pid, gint status, gpointer self);
static gboolean __lambda18_ (Spawn* self, GIOChannel* channel, GIOCondition condition);
static gboolean ___lambda18__gio_func (GIOChannel* source, GIOCondition condition, gpointer self);
static gboolean __lambda19_ (Spawn* self, GIOChannel* channel, GIOCondition condition);
static gboolean ___lambda19__gio_func (GIOChannel* source, GIOCondition condition, gpointer self);
static gint spawn_write (Spawn* self, const gchar* str, GError** error);
static void g_cclosure_user_marshal_STRING__VOID (GClosure * closure, GValue * return_value, guint n_param_values, const GValue * param_values, gpointer invocation_hint, gpointer marshal_data);
static void g_cclosure_user_marshal_VOID__INT_STRING_STRING (GClosure * closure, GValue * return_value, guint n_param_values, const GValue * param_values, gpointer invocation_hint, gpointer marshal_data);
static void spawn_finalize (GObject* obj);
static void _vala_array_destroy (gpointer array, gint array_length, GDestroyNotify destroy_func);
static void _vala_array_free (gpointer array, gint array_length, GDestroyNotify destroy_func);


GQuark spawn_error_quark (void) {
#line 26 "/home/alan/gitlive/roobuilder/src/JsRender/NodeToGtk.vala"
	return g_quark_from_static_string ("spawn_error-quark");
#line 116 "Spawn.vala.c"
}


static gchar** _vala_array_dup15 (gchar** self, int length) {
	gchar** result;
	int i;
#line 81 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	result = g_new0 (gchar*, length + 1);
#line 81 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	for (i = 0; i < length; i++) {
#line 127 "Spawn.vala.c"
		gchar* _tmp0_ = NULL;
#line 81 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		_tmp0_ = g_strdup (self[i]);
#line 81 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		result[i] = _tmp0_;
#line 133 "Spawn.vala.c"
	}
#line 81 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	return result;
#line 137 "Spawn.vala.c"
}


Spawn* spawn_construct (GType object_type, const gchar* cwd, gchar** args, int args_length1, GError** error) {
	Spawn * self = NULL;
	const gchar* _tmp0_ = NULL;
	gchar* _tmp1_ = NULL;
	gchar** _tmp2_ = NULL;
	gint _tmp2__length1 = 0;
	gchar** _tmp3_ = NULL;
	gint _tmp3__length1 = 0;
	gchar** _tmp4_ = NULL;
	gchar* _tmp5_ = NULL;
	gchar* _tmp6_ = NULL;
	const gchar* _tmp7_ = NULL;
	const gchar* _tmp8_ = NULL;
	gint _tmp9_ = 0;
	gint _tmp10_ = 0;
	gchar* _tmp13_ = NULL;
	gchar** _tmp14_ = NULL;
	gint _tmp14__length1 = 0;
	GError * _inner_error_ = NULL;
#line 76 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	self = (Spawn*) g_object_new (object_type, NULL);
#line 80 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp0_ = cwd;
#line 80 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp1_ = g_strdup (_tmp0_);
#line 80 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_g_free0 (self->cwd);
#line 80 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	self->cwd = _tmp1_;
#line 81 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp2_ = args;
#line 81 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp2__length1 = args_length1;
#line 81 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp3_ = (_tmp2_ != NULL) ? _vala_array_dup15 (_tmp2_, _tmp2__length1) : ((gpointer) _tmp2_);
#line 81 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp3__length1 = _tmp2__length1;
#line 81 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	self->args = (_vala_array_free (self->args, self->args_length1, (GDestroyNotify) g_free), NULL);
#line 81 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	self->args = _tmp3_;
#line 81 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	self->args_length1 = _tmp3__length1;
#line 82 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp4_ = g_new0 (gchar*, 0 + 1);
#line 82 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	self->env = (_vala_array_free (self->env, self->env_length1, (GDestroyNotify) g_free), NULL);
#line 82 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	self->env = _tmp4_;
#line 82 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	self->env_length1 = 0;
#line 84 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp5_ = g_strdup ("");
#line 84 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_g_free0 (self->output);
#line 84 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	self->output = _tmp5_;
#line 85 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp6_ = g_strdup ("");
#line 85 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_g_free0 (self->stderr);
#line 85 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	self->stderr = _tmp6_;
#line 87 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp8_ = self->cwd;
#line 87 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp9_ = strlen (_tmp8_);
#line 87 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp10_ = _tmp9_;
#line 87 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	if (_tmp10_ < 1) {
#line 212 "Spawn.vala.c"
		const gchar* _tmp11_ = NULL;
#line 87 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		_tmp11_ = g_get_home_dir ();
#line 87 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		_tmp7_ = _tmp11_;
#line 218 "Spawn.vala.c"
	} else {
		const gchar* _tmp12_ = NULL;
#line 87 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		_tmp12_ = self->cwd;
#line 87 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		_tmp7_ = _tmp12_;
#line 225 "Spawn.vala.c"
	}
#line 87 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp13_ = g_strdup (_tmp7_);
#line 87 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_g_free0 (self->cwd);
#line 87 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	self->cwd = _tmp13_;
#line 88 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp14_ = self->args;
#line 88 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp14__length1 = self->args_length1;
#line 88 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	if (_tmp14__length1 < 0) {
#line 239 "Spawn.vala.c"
		GError* _tmp15_ = NULL;
#line 89 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		_tmp15_ = g_error_new_literal (SPAWN_ERROR, SPAWN_ERROR_NO_ARGS, "No arguments");
#line 89 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		_inner_error_ = _tmp15_;
#line 89 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		g_propagate_error (error, _inner_error_);
#line 89 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		_g_object_unref0 (self);
#line 89 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		return NULL;
#line 251 "Spawn.vala.c"
	}
#line 76 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	return self;
#line 255 "Spawn.vala.c"
}


Spawn* spawn_new (const gchar* cwd, gchar** args, int args_length1, GError** error) {
#line 76 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	return spawn_construct (TYPE_SPAWN, cwd, args, args_length1, error);
#line 262 "Spawn.vala.c"
}


/**
     * 
     * @method run
     * Run the configured command.
     * result is applied to object properties (eg. '?' or 'stderr')
     * @returns {Object} self.
     */
static gchar* _vala_g_strjoinv (const gchar* separator, gchar** str_array, int str_array_length1) {
	gchar* result = NULL;
	const gchar* _tmp0_ = NULL;
	gboolean _tmp1_ = FALSE;
	gboolean _tmp2_ = FALSE;
	gchar** _tmp3_ = NULL;
	gint _tmp3__length1 = 0;
#line 1054 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
	_tmp0_ = separator;
#line 1054 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
	if (_tmp0_ == NULL) {
#line 1055 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
		separator = "";
#line 286 "Spawn.vala.c"
	}
#line 1057 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
	_tmp3_ = str_array;
#line 1057 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
	_tmp3__length1 = str_array_length1;
#line 1057 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
	if (_tmp3_ != NULL) {
#line 1057 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
		_tmp2_ = TRUE;
#line 296 "Spawn.vala.c"
	} else {
		gchar** _tmp4_ = NULL;
		gint _tmp4__length1 = 0;
#line 1057 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
		_tmp4_ = str_array;
#line 1057 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
		_tmp4__length1 = str_array_length1;
#line 1057 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
		_tmp2_ = _tmp4__length1 > 0;
#line 306 "Spawn.vala.c"
	}
#line 1057 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
	if (_tmp2_) {
#line 1057 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
		_tmp1_ = TRUE;
#line 312 "Spawn.vala.c"
	} else {
		gboolean _tmp5_ = FALSE;
		gchar** _tmp6_ = NULL;
		gint _tmp6__length1 = 0;
#line 1057 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
		_tmp6_ = str_array;
#line 1057 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
		_tmp6__length1 = str_array_length1;
#line 1057 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
		if (_tmp6__length1 == -1) {
#line 323 "Spawn.vala.c"
			gchar** _tmp7_ = NULL;
			gint _tmp7__length1 = 0;
			const gchar* _tmp8_ = NULL;
#line 1057 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
			_tmp7_ = str_array;
#line 1057 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
			_tmp7__length1 = str_array_length1;
#line 1057 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
			_tmp8_ = _tmp7_[0];
#line 1057 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
			_tmp5_ = _tmp8_ != NULL;
#line 335 "Spawn.vala.c"
		} else {
#line 1057 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
			_tmp5_ = FALSE;
#line 339 "Spawn.vala.c"
		}
#line 1057 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
		_tmp1_ = _tmp5_;
#line 343 "Spawn.vala.c"
	}
#line 1057 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
	if (_tmp1_) {
#line 347 "Spawn.vala.c"
		gint i = 0;
		gsize len = 0UL;
		gint _tmp31_ = 0;
		gint _tmp33_ = 0;
		gint _tmp34_ = 0;
		gsize _tmp35_ = 0UL;
		const gchar* _tmp36_ = NULL;
		gint _tmp37_ = 0;
		gint _tmp38_ = 0;
		gint _tmp39_ = 0;
		const gchar* res = NULL;
		gsize _tmp40_ = 0UL;
		void* _tmp41_ = NULL;
		void* ptr = NULL;
		const gchar* _tmp42_ = NULL;
		gchar** _tmp43_ = NULL;
		gint _tmp43__length1 = 0;
		const gchar* _tmp44_ = NULL;
		void* _tmp45_ = NULL;
		const gchar* _tmp62_ = NULL;
#line 1059 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
		len = (gsize) 1;
#line 370 "Spawn.vala.c"
		{
			gboolean _tmp9_ = FALSE;
#line 1060 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
			i = 0;
#line 1060 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
			_tmp9_ = TRUE;
#line 1060 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
			while (TRUE) {
#line 379 "Spawn.vala.c"
				gboolean _tmp11_ = FALSE;
				gboolean _tmp12_ = FALSE;
				gchar** _tmp13_ = NULL;
				gint _tmp13__length1 = 0;
				gint _tmp21_ = 0;
				gchar** _tmp22_ = NULL;
				gint _tmp22__length1 = 0;
				gint _tmp23_ = 0;
				const gchar* _tmp24_ = NULL;
				gsize _tmp30_ = 0UL;
#line 1060 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
				if (!_tmp9_) {
#line 392 "Spawn.vala.c"
					gint _tmp10_ = 0;
#line 1060 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
					_tmp10_ = i;
#line 1060 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
					i = _tmp10_ + 1;
#line 398 "Spawn.vala.c"
				}
#line 1060 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
				_tmp9_ = FALSE;
#line 1060 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
				_tmp13_ = str_array;
#line 1060 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
				_tmp13__length1 = str_array_length1;
#line 1060 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
				if (_tmp13__length1 != -1) {
#line 408 "Spawn.vala.c"
					gint _tmp14_ = 0;
					gchar** _tmp15_ = NULL;
					gint _tmp15__length1 = 0;
#line 1060 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
					_tmp14_ = i;
#line 1060 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
					_tmp15_ = str_array;
#line 1060 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
					_tmp15__length1 = str_array_length1;
#line 1060 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
					_tmp12_ = _tmp14_ < _tmp15__length1;
#line 420 "Spawn.vala.c"
				} else {
#line 1060 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
					_tmp12_ = FALSE;
#line 424 "Spawn.vala.c"
				}
#line 1060 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
				if (_tmp12_) {
#line 1060 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
					_tmp11_ = TRUE;
#line 430 "Spawn.vala.c"
				} else {
					gboolean _tmp16_ = FALSE;
					gchar** _tmp17_ = NULL;
					gint _tmp17__length1 = 0;
#line 1060 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
					_tmp17_ = str_array;
#line 1060 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
					_tmp17__length1 = str_array_length1;
#line 1060 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
					if (_tmp17__length1 == -1) {
#line 441 "Spawn.vala.c"
						gchar** _tmp18_ = NULL;
						gint _tmp18__length1 = 0;
						gint _tmp19_ = 0;
						const gchar* _tmp20_ = NULL;
#line 1060 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
						_tmp18_ = str_array;
#line 1060 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
						_tmp18__length1 = str_array_length1;
#line 1060 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
						_tmp19_ = i;
#line 1060 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
						_tmp20_ = _tmp18_[_tmp19_];
#line 1060 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
						_tmp16_ = _tmp20_ != NULL;
#line 456 "Spawn.vala.c"
					} else {
#line 1060 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
						_tmp16_ = FALSE;
#line 460 "Spawn.vala.c"
					}
#line 1060 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
					_tmp11_ = _tmp16_;
#line 464 "Spawn.vala.c"
				}
#line 1060 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
				if (!_tmp11_) {
#line 1060 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
					break;
#line 470 "Spawn.vala.c"
				}
#line 1061 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
				_tmp22_ = str_array;
#line 1061 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
				_tmp22__length1 = str_array_length1;
#line 1061 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
				_tmp23_ = i;
#line 1061 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
				_tmp24_ = _tmp22_[_tmp23_];
#line 1061 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
				if (_tmp24_ != NULL) {
#line 482 "Spawn.vala.c"
					gchar** _tmp25_ = NULL;
					gint _tmp25__length1 = 0;
					gint _tmp26_ = 0;
					const gchar* _tmp27_ = NULL;
					gint _tmp28_ = 0;
					gint _tmp29_ = 0;
#line 1061 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
					_tmp25_ = str_array;
#line 1061 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
					_tmp25__length1 = str_array_length1;
#line 1061 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
					_tmp26_ = i;
#line 1061 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
					_tmp27_ = _tmp25_[_tmp26_];
#line 1061 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
					_tmp28_ = strlen ((const gchar*) _tmp27_);
#line 1061 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
					_tmp29_ = _tmp28_;
#line 1061 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
					_tmp21_ = _tmp29_;
#line 503 "Spawn.vala.c"
				} else {
#line 1061 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
					_tmp21_ = 0;
#line 507 "Spawn.vala.c"
				}
#line 1061 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
				_tmp30_ = len;
#line 1061 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
				len = _tmp30_ + _tmp21_;
#line 513 "Spawn.vala.c"
			}
		}
#line 1063 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
		_tmp31_ = i;
#line 1063 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
		if (_tmp31_ == 0) {
#line 520 "Spawn.vala.c"
			gchar* _tmp32_ = NULL;
#line 1064 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
			_tmp32_ = g_strdup ("");
#line 1064 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
			result = _tmp32_;
#line 1064 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
			return result;
#line 528 "Spawn.vala.c"
		}
#line 1066 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
		_tmp33_ = i;
#line 1066 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
		str_array_length1 = _tmp33_;
#line 1066 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
		_tmp34_ = str_array_length1;
#line 1067 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
		_tmp35_ = len;
#line 1067 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
		_tmp36_ = separator;
#line 1067 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
		_tmp37_ = strlen ((const gchar*) _tmp36_);
#line 1067 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
		_tmp38_ = _tmp37_;
#line 1067 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
		_tmp39_ = i;
#line 1067 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
		len = _tmp35_ + (_tmp38_ * (_tmp39_ - 1));
#line 1069 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
		_tmp40_ = len;
#line 1069 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
		_tmp41_ = g_malloc (_tmp40_);
#line 1069 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
		res = _tmp41_;
#line 1070 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
		_tmp42_ = res;
#line 1070 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
		_tmp43_ = str_array;
#line 1070 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
		_tmp43__length1 = str_array_length1;
#line 1070 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
		_tmp44_ = _tmp43_[0];
#line 1070 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
		_tmp45_ = g_stpcpy ((void*) _tmp42_, (const gchar*) _tmp44_);
#line 1070 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
		ptr = _tmp45_;
#line 566 "Spawn.vala.c"
		{
			gboolean _tmp46_ = FALSE;
#line 1071 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
			i = 1;
#line 1071 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
			_tmp46_ = TRUE;
#line 1071 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
			while (TRUE) {
#line 575 "Spawn.vala.c"
				gint _tmp48_ = 0;
				gchar** _tmp49_ = NULL;
				gint _tmp49__length1 = 0;
				void* _tmp50_ = NULL;
				const gchar* _tmp51_ = NULL;
				void* _tmp52_ = NULL;
				const gchar* _tmp53_ = NULL;
				gchar** _tmp54_ = NULL;
				gint _tmp54__length1 = 0;
				gint _tmp55_ = 0;
				const gchar* _tmp56_ = NULL;
				void* _tmp60_ = NULL;
				void* _tmp61_ = NULL;
#line 1071 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
				if (!_tmp46_) {
#line 591 "Spawn.vala.c"
					gint _tmp47_ = 0;
#line 1071 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
					_tmp47_ = i;
#line 1071 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
					i = _tmp47_ + 1;
#line 597 "Spawn.vala.c"
				}
#line 1071 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
				_tmp46_ = FALSE;
#line 1071 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
				_tmp48_ = i;
#line 1071 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
				_tmp49_ = str_array;
#line 1071 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
				_tmp49__length1 = str_array_length1;
#line 1071 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
				if (!(_tmp48_ < _tmp49__length1)) {
#line 1071 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
					break;
#line 611 "Spawn.vala.c"
				}
#line 1072 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
				_tmp50_ = ptr;
#line 1072 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
				_tmp51_ = separator;
#line 1072 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
				_tmp52_ = g_stpcpy (_tmp50_, (const gchar*) _tmp51_);
#line 1072 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
				ptr = _tmp52_;
#line 1073 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
				_tmp54_ = str_array;
#line 1073 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
				_tmp54__length1 = str_array_length1;
#line 1073 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
				_tmp55_ = i;
#line 1073 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
				_tmp56_ = _tmp54_[_tmp55_];
#line 1073 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
				if (_tmp56_ != NULL) {
#line 631 "Spawn.vala.c"
					gchar** _tmp57_ = NULL;
					gint _tmp57__length1 = 0;
					gint _tmp58_ = 0;
					const gchar* _tmp59_ = NULL;
#line 1073 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
					_tmp57_ = str_array;
#line 1073 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
					_tmp57__length1 = str_array_length1;
#line 1073 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
					_tmp58_ = i;
#line 1073 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
					_tmp59_ = _tmp57_[_tmp58_];
#line 1073 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
					_tmp53_ = (const gchar*) _tmp59_;
#line 646 "Spawn.vala.c"
				} else {
#line 1073 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
					_tmp53_ = "";
#line 650 "Spawn.vala.c"
				}
#line 1073 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
				_tmp60_ = ptr;
#line 1073 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
				_tmp61_ = g_stpcpy (_tmp60_, _tmp53_);
#line 1073 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
				ptr = _tmp61_;
#line 658 "Spawn.vala.c"
			}
		}
#line 1076 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
		_tmp62_ = res;
#line 1076 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
		res = NULL;
#line 1076 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
		result = (gchar*) _tmp62_;
#line 1076 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
		return result;
#line 669 "Spawn.vala.c"
	} else {
		gchar* _tmp63_ = NULL;
#line 1078 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
		_tmp63_ = g_strdup ("");
#line 1078 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
		result = _tmp63_;
#line 1078 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
		return result;
#line 678 "Spawn.vala.c"
	}
}


static void ___lambda16_ (Spawn* self, GPid pid, gint status) {
	GPid _tmp0_ = 0;
#line 167 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp0_ = pid;
#line 167 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	g_spawn_close_pid (_tmp0_);
#line 689 "Spawn.vala.c"
}


static void ____lambda16__gchild_watch_func (GPid pid, gint status, gpointer self) {
#line 165 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	___lambda16_ ((Spawn*) self, pid, status);
#line 696 "Spawn.vala.c"
}


static void __lambda17_ (Spawn* self, GPid w_pid, gint _result_) {
	gint _tmp0_ = 0;
	gint _tmp1_ = 0;
	GIOChannel* _tmp2_ = NULL;
	GIOChannel* _tmp3_ = NULL;
	gint _tmp4_ = 0;
	GMainLoop* _tmp5_ = NULL;
	gint _tmp7_ = 0;
	const gchar* _tmp8_ = NULL;
	const gchar* _tmp9_ = NULL;
#line 212 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp0_ = _result_;
#line 212 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	self->result = _tmp0_;
#line 213 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp1_ = _result_;
#line 213 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	g_debug ("Spawn.vala:213: child_watch_add : result:%d ", _tmp1_);
#line 216 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp2_ = self->priv->out_ch;
#line 216 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	spawn_read (self, _tmp2_);
#line 217 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp3_ = self->priv->err_ch;
#line 217 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	spawn_read (self, _tmp3_);
#line 220 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp4_ = self->priv->pid;
#line 220 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	g_spawn_close_pid ((GPid) _tmp4_);
#line 221 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	self->priv->pid = -1;
#line 222 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp5_ = self->priv->ctx;
#line 222 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	if (_tmp5_ != NULL) {
#line 736 "Spawn.vala.c"
		GMainLoop* _tmp6_ = NULL;
#line 223 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		_tmp6_ = self->priv->ctx;
#line 223 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		g_main_loop_quit (_tmp6_);
#line 224 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		_g_main_loop_unref0 (self->priv->ctx);
#line 224 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		self->priv->ctx = NULL;
#line 746 "Spawn.vala.c"
	}
#line 226 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	spawn_tidyup (self);
#line 229 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp7_ = self->result;
#line 229 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp8_ = self->output;
#line 229 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp9_ = self->stderr;
#line 229 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	g_signal_emit_by_name (self, "complete", _tmp7_, _tmp8_, _tmp9_);
#line 758 "Spawn.vala.c"
}


static void ___lambda17__gchild_watch_func (GPid pid, gint status, gpointer self) {
#line 210 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	__lambda17_ ((Spawn*) self, pid, status);
#line 765 "Spawn.vala.c"
}


static gboolean __lambda18_ (Spawn* self, GIOChannel* channel, GIOCondition condition) {
	gboolean result = FALSE;
	GIOChannel* _tmp0_ = NULL;
	gboolean _tmp1_ = FALSE;
#line 243 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp0_ = self->priv->out_ch;
#line 243 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp1_ = spawn_read (self, _tmp0_);
#line 243 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	result = _tmp1_;
#line 243 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	return result;
#line 781 "Spawn.vala.c"
}


static gboolean ___lambda18__gio_func (GIOChannel* source, GIOCondition condition, gpointer self) {
	gboolean result;
	result = __lambda18_ ((Spawn*) self, source, condition);
#line 240 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	return result;
#line 790 "Spawn.vala.c"
}


static gboolean __lambda19_ (Spawn* self, GIOChannel* channel, GIOCondition condition) {
	gboolean result = FALSE;
	GIOChannel* _tmp0_ = NULL;
	gboolean _tmp1_ = FALSE;
#line 249 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp0_ = self->priv->err_ch;
#line 249 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp1_ = spawn_read (self, _tmp0_);
#line 249 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	result = _tmp1_;
#line 249 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	return result;
#line 806 "Spawn.vala.c"
}


static gboolean ___lambda19__gio_func (GIOChannel* source, GIOCondition condition, gpointer self) {
	gboolean result;
	result = __lambda19_ ((Spawn*) self, source, condition);
#line 246 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	return result;
#line 815 "Spawn.vala.c"
}


void spawn_run (Spawn* self, GError** error) {
	gint standard_input = 0;
	gint standard_output = 0;
	gint standard_error = 0;
	const gchar* _tmp0_ = NULL;
	gchar** _tmp1_ = NULL;
	gint _tmp1__length1 = 0;
	gchar* _tmp2_ = NULL;
	gchar* _tmp3_ = NULL;
	gboolean _tmp4_ = FALSE;
	gchar** _tmp12_ = NULL;
	gint _tmp12__length1 = 0;
	gint __tmp12__size_ = 0;
	gchar** _tmp13_ = NULL;
	gint _tmp13__length1 = 0;
	const gchar* _tmp15_ = NULL;
	gchar** _tmp16_ = NULL;
	gint _tmp16__length1 = 0;
	GPid _tmp17_ = 0;
	gint _tmp18_ = 0;
	gint _tmp19_ = 0;
	gint _tmp20_ = 0;
	gint _tmp21_ = 0;
	gint _tmp22_ = 0;
	GIOChannel* _tmp23_ = NULL;
	gint _tmp24_ = 0;
	GIOChannel* _tmp25_ = NULL;
	gint _tmp26_ = 0;
	GIOChannel* _tmp27_ = NULL;
	GIOChannel* _tmp28_ = NULL;
	GIOChannel* _tmp29_ = NULL;
	GIOChannel* _tmp30_ = NULL;
	gint _tmp31_ = 0;
	GIOChannel* _tmp32_ = NULL;
	guint _tmp33_ = 0U;
	GIOChannel* _tmp34_ = NULL;
	guint _tmp35_ = 0U;
	gint _tmp36_ = 0;
	gboolean _tmp41_ = FALSE;
	gboolean _tmp42_ = FALSE;
	gint _tmp44_ = 0;
	gboolean _tmp47_ = FALSE;
	gboolean _tmp48_ = FALSE;
	GError * _inner_error_ = NULL;
#line 147 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	self->priv->err_src = -1;
#line 148 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	self->priv->out_src = -1;
#line 155 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp0_ = self->cwd;
#line 155 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp1_ = self->args;
#line 155 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp1__length1 = self->args_length1;
#line 155 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp2_ = _vala_g_strjoinv (" ", _tmp1_, _tmp1__length1);
#line 155 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp3_ = _tmp2_;
#line 155 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	g_debug ("Spawn.vala:155: cd %s; %s", _tmp0_, _tmp3_);
#line 155 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_g_free0 (_tmp3_);
#line 157 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp4_ = self->detach;
#line 157 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	if (_tmp4_) {
#line 885 "Spawn.vala.c"
		gchar** _tmp5_ = NULL;
		gint _tmp5__length1 = 0;
		gint __tmp5__size_ = 0;
		gchar** _tmp6_ = NULL;
		gint _tmp6__length1 = 0;
		const gchar* _tmp8_ = NULL;
		gchar** _tmp9_ = NULL;
		gint _tmp9__length1 = 0;
		GPid _tmp10_ = 0;
		gint _tmp11_ = 0;
#line 161 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		_tmp6_ = self->env;
#line 161 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		_tmp6__length1 = self->env_length1;
#line 161 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		if (_tmp6__length1 > 0) {
#line 902 "Spawn.vala.c"
			gchar** _tmp7_ = NULL;
			gint _tmp7__length1 = 0;
#line 161 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			_tmp7_ = self->env;
#line 161 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			_tmp7__length1 = self->env_length1;
#line 161 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			_tmp5_ = _tmp7_;
#line 161 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			_tmp5__length1 = _tmp7__length1;
#line 161 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			__tmp5__size_ = _tmp5__length1;
#line 915 "Spawn.vala.c"
		} else {
#line 161 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			_tmp5_ = NULL;
#line 161 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			_tmp5__length1 = 0;
#line 161 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			__tmp5__size_ = _tmp5__length1;
#line 923 "Spawn.vala.c"
		}
#line 158 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		_tmp8_ = self->cwd;
#line 158 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		_tmp9_ = self->args;
#line 158 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		_tmp9__length1 = self->args_length1;
#line 158 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		g_spawn_async_with_pipes (_tmp8_, _tmp9_, _tmp5_, G_SPAWN_SEARCH_PATH | G_SPAWN_DO_NOT_REAP_CHILD, NULL, NULL, &_tmp10_, NULL, NULL, NULL, &_inner_error_);
#line 158 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		self->priv->pid = (gint) _tmp10_;
#line 158 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 158 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			if (((_inner_error_->domain == SPAWN_ERROR) || (_inner_error_->domain == G_SPAWN_ERROR)) || (_inner_error_->domain == G_IO_CHANNEL_ERROR)) {
#line 158 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
				g_propagate_error (error, _inner_error_);
#line 158 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
				return;
#line 943 "Spawn.vala.c"
			} else {
#line 158 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
				g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 158 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
				g_clear_error (&_inner_error_);
#line 158 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
				return;
#line 951 "Spawn.vala.c"
			}
		}
#line 165 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		_tmp11_ = self->priv->pid;
#line 165 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		g_child_watch_add_full (G_PRIORITY_DEFAULT_IDLE, (GPid) _tmp11_, ____lambda16__gchild_watch_func, g_object_ref (self), g_object_unref);
#line 171 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		return;
#line 960 "Spawn.vala.c"
	}
#line 177 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp13_ = self->env;
#line 177 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp13__length1 = self->env_length1;
#line 177 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	if (_tmp13__length1 > 0) {
#line 968 "Spawn.vala.c"
		gchar** _tmp14_ = NULL;
		gint _tmp14__length1 = 0;
#line 177 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		_tmp14_ = self->env;
#line 177 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		_tmp14__length1 = self->env_length1;
#line 177 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		_tmp12_ = _tmp14_;
#line 177 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		_tmp12__length1 = _tmp14__length1;
#line 177 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		__tmp12__size_ = _tmp12__length1;
#line 981 "Spawn.vala.c"
	} else {
#line 177 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		_tmp12_ = NULL;
#line 177 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		_tmp12__length1 = 0;
#line 177 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		__tmp12__size_ = _tmp12__length1;
#line 989 "Spawn.vala.c"
	}
#line 174 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp15_ = self->cwd;
#line 174 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp16_ = self->args;
#line 174 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp16__length1 = self->args_length1;
#line 174 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	g_spawn_async_with_pipes (_tmp15_, _tmp16_, _tmp12_, G_SPAWN_SEARCH_PATH | G_SPAWN_DO_NOT_REAP_CHILD, NULL, NULL, &_tmp17_, &_tmp18_, &_tmp19_, &_tmp20_, &_inner_error_);
#line 174 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	self->priv->pid = (gint) _tmp17_;
#line 174 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	standard_input = _tmp18_;
#line 174 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	standard_output = _tmp19_;
#line 174 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	standard_error = _tmp20_;
#line 174 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 174 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		if (((_inner_error_->domain == SPAWN_ERROR) || (_inner_error_->domain == G_SPAWN_ERROR)) || (_inner_error_->domain == G_IO_CHANNEL_ERROR)) {
#line 174 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			g_propagate_error (error, _inner_error_);
#line 174 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			return;
#line 1015 "Spawn.vala.c"
		} else {
#line 174 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 174 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			g_clear_error (&_inner_error_);
#line 174 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			return;
#line 1023 "Spawn.vala.c"
		}
	}
#line 190 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp21_ = self->priv->pid;
#line 190 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	g_debug ("Spawn.vala:190: PID: %d", _tmp21_);
#line 193 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp22_ = standard_input;
#line 193 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp23_ = g_io_channel_unix_new (_tmp22_);
#line 193 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_g_io_channel_unref0 (self->priv->in_ch);
#line 193 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	self->priv->in_ch = _tmp23_;
#line 194 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp24_ = standard_output;
#line 194 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp25_ = g_io_channel_unix_new (_tmp24_);
#line 194 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_g_io_channel_unref0 (self->priv->out_ch);
#line 194 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	self->priv->out_ch = _tmp25_;
#line 195 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp26_ = standard_error;
#line 195 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp27_ = g_io_channel_unix_new (_tmp26_);
#line 195 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_g_io_channel_unref0 (self->priv->err_ch);
#line 195 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	self->priv->err_ch = _tmp27_;
#line 203 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp28_ = self->priv->in_ch;
#line 203 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	g_io_channel_set_flags (_tmp28_, G_IO_FLAG_NONBLOCK, &_inner_error_);
#line 203 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 203 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		if (((_inner_error_->domain == SPAWN_ERROR) || (_inner_error_->domain == G_SPAWN_ERROR)) || (_inner_error_->domain == G_IO_CHANNEL_ERROR)) {
#line 203 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			g_propagate_error (error, _inner_error_);
#line 203 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			return;
#line 1066 "Spawn.vala.c"
		} else {
#line 203 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 203 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			g_clear_error (&_inner_error_);
#line 203 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			return;
#line 1074 "Spawn.vala.c"
		}
	}
#line 204 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp29_ = self->priv->out_ch;
#line 204 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	g_io_channel_set_flags (_tmp29_, G_IO_FLAG_NONBLOCK, &_inner_error_);
#line 204 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 204 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		if (((_inner_error_->domain == SPAWN_ERROR) || (_inner_error_->domain == G_SPAWN_ERROR)) || (_inner_error_->domain == G_IO_CHANNEL_ERROR)) {
#line 204 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			g_propagate_error (error, _inner_error_);
#line 204 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			return;
#line 1089 "Spawn.vala.c"
		} else {
#line 204 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 204 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			g_clear_error (&_inner_error_);
#line 204 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			return;
#line 1097 "Spawn.vala.c"
		}
	}
#line 205 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp30_ = self->priv->err_ch;
#line 205 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	g_io_channel_set_flags (_tmp30_, G_IO_FLAG_NONBLOCK, &_inner_error_);
#line 205 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 205 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		if (((_inner_error_->domain == SPAWN_ERROR) || (_inner_error_->domain == G_SPAWN_ERROR)) || (_inner_error_->domain == G_IO_CHANNEL_ERROR)) {
#line 205 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			g_propagate_error (error, _inner_error_);
#line 205 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			return;
#line 1112 "Spawn.vala.c"
		} else {
#line 205 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 205 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			g_clear_error (&_inner_error_);
#line 205 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			return;
#line 1120 "Spawn.vala.c"
		}
	}
#line 210 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp31_ = self->priv->pid;
#line 210 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	g_child_watch_add_full (G_PRIORITY_DEFAULT_IDLE, (GPid) _tmp31_, ___lambda17__gchild_watch_func, g_object_ref (self), g_object_unref);
#line 240 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp32_ = self->priv->out_ch;
#line 240 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp33_ = g_io_add_watch (_tmp32_, (((G_IO_OUT | G_IO_IN) | G_IO_PRI) | G_IO_HUP) | G_IO_ERR, ___lambda18__gio_func, self);
#line 240 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	self->priv->out_src = (gint) _tmp33_;
#line 246 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp34_ = self->priv->err_ch;
#line 246 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp35_ = g_io_add_watch (_tmp34_, (((G_IO_OUT | G_IO_IN) | G_IO_PRI) | G_IO_HUP) | G_IO_ERR, ___lambda19__gio_func, self);
#line 246 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	self->priv->err_src = (gint) _tmp35_;
#line 255 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp36_ = self->priv->pid;
#line 255 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	if (_tmp36_ > -1) {
#line 1143 "Spawn.vala.c"
		gchar* input = NULL;
		gchar* _tmp37_ = NULL;
		const gchar* _tmp38_ = NULL;
#line 257 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		g_signal_emit_by_name (self, "input", &_tmp37_);
#line 257 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		input = _tmp37_;
#line 258 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		_tmp38_ = input;
#line 258 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		if (_tmp38_ != NULL) {
#line 1155 "Spawn.vala.c"
			{
				const gchar* _tmp39_ = NULL;
				GIOChannel* _tmp40_ = NULL;
#line 261 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
				_tmp39_ = input;
#line 261 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
				spawn_write (self, _tmp39_, &_inner_error_);
#line 261 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
				if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 1165 "Spawn.vala.c"
					goto __catch58_g_error;
				}
#line 264 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
				_tmp40_ = self->priv->in_ch;
#line 264 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
				g_io_channel_shutdown (_tmp40_, TRUE, &_inner_error_);
#line 264 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
				if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 1174 "Spawn.vala.c"
					goto __catch58_g_error;
				}
#line 265 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
				_g_io_channel_unref0 (self->priv->in_ch);
#line 265 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
				self->priv->in_ch = NULL;
#line 1181 "Spawn.vala.c"
			}
			goto __finally58;
			__catch58_g_error:
			{
				GError* e = NULL;
#line 260 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
				e = _inner_error_;
#line 260 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
				_inner_error_ = NULL;
#line 269 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
				spawn_tidyup (self);
#line 270 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
				_g_error_free0 (e);
#line 270 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
				_g_free0 (input);
#line 270 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
				return;
#line 1199 "Spawn.vala.c"
			}
			__finally58:
#line 260 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 260 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
				if (((_inner_error_->domain == SPAWN_ERROR) || (_inner_error_->domain == G_SPAWN_ERROR)) || (_inner_error_->domain == G_IO_CHANNEL_ERROR)) {
#line 260 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
					g_propagate_error (error, _inner_error_);
#line 260 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
					_g_free0 (input);
#line 260 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
					return;
#line 1212 "Spawn.vala.c"
				} else {
#line 260 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
					_g_free0 (input);
#line 260 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
					g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 260 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
					g_clear_error (&_inner_error_);
#line 260 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
					return;
#line 1222 "Spawn.vala.c"
				}
			}
		}
#line 255 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		_g_free0 (input);
#line 1228 "Spawn.vala.c"
	}
#line 279 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp42_ = self->is_async;
#line 279 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	if (_tmp42_) {
#line 1234 "Spawn.vala.c"
		gint _tmp43_ = 0;
#line 279 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		_tmp43_ = self->priv->pid;
#line 279 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		_tmp41_ = _tmp43_ > -1;
#line 1240 "Spawn.vala.c"
	} else {
#line 279 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		_tmp41_ = FALSE;
#line 1244 "Spawn.vala.c"
	}
#line 279 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	if (_tmp41_) {
#line 280 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		return;
#line 1250 "Spawn.vala.c"
	}
#line 285 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp44_ = self->priv->pid;
#line 285 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	if (_tmp44_ > -1) {
#line 1256 "Spawn.vala.c"
		GMainLoop* _tmp45_ = NULL;
		GMainLoop* _tmp46_ = NULL;
#line 286 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		g_debug ("Spawn.vala:286: starting main loop");
#line 290 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		_tmp45_ = g_main_loop_new (NULL, FALSE);
#line 290 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		_g_main_loop_unref0 (self->priv->ctx);
#line 290 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		self->priv->ctx = _tmp45_;
#line 291 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		_tmp46_ = self->priv->ctx;
#line 291 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		g_main_loop_run (_tmp46_);
#line 293 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		g_debug ("Spawn.vala:293: main_loop done!");
#line 1273 "Spawn.vala.c"
	} else {
#line 295 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		spawn_tidyup (self);
#line 1277 "Spawn.vala.c"
	}
#line 298 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp48_ = self->throw_exceptions;
#line 298 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	if (_tmp48_) {
#line 1283 "Spawn.vala.c"
		gint _tmp49_ = 0;
#line 298 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		_tmp49_ = self->result;
#line 298 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		_tmp47_ = _tmp49_ != 0;
#line 1289 "Spawn.vala.c"
	} else {
#line 298 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		_tmp47_ = FALSE;
#line 1293 "Spawn.vala.c"
	}
#line 298 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	if (_tmp47_) {
#line 1297 "Spawn.vala.c"
		const gchar* _tmp50_ = NULL;
		GError* _tmp51_ = NULL;
#line 300 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		_tmp50_ = self->stderr;
#line 300 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		_tmp51_ = g_error_new_literal (SPAWN_ERROR, SPAWN_ERROR_EXECUTE_ERROR, _tmp50_);
#line 300 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		_inner_error_ = _tmp51_;
#line 300 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		if (((_inner_error_->domain == SPAWN_ERROR) || (_inner_error_->domain == G_SPAWN_ERROR)) || (_inner_error_->domain == G_IO_CHANNEL_ERROR)) {
#line 300 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			g_propagate_error (error, _inner_error_);
#line 300 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			return;
#line 1312 "Spawn.vala.c"
		} else {
#line 300 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 300 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			g_clear_error (&_inner_error_);
#line 300 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			return;
#line 1320 "Spawn.vala.c"
		}
	}
#line 307 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	return;
#line 1325 "Spawn.vala.c"
}


static void spawn_tidyup (Spawn* self) {
	gint _tmp0_ = 0;
	GError * _inner_error_ = NULL;
#line 315 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp0_ = self->priv->pid;
#line 315 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	if (_tmp0_ > -1) {
#line 1336 "Spawn.vala.c"
		gint _tmp1_ = 0;
#line 316 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		_tmp1_ = self->priv->pid;
#line 316 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		g_spawn_close_pid ((GPid) _tmp1_);
#line 317 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		self->priv->pid = -1;
#line 1344 "Spawn.vala.c"
	}
	{
		GIOChannel* _tmp2_ = NULL;
		GIOChannel* _tmp4_ = NULL;
		GIOChannel* _tmp6_ = NULL;
#line 320 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		_tmp2_ = self->priv->in_ch;
#line 320 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		if (_tmp2_ != NULL) {
#line 1354 "Spawn.vala.c"
			GIOChannel* _tmp3_ = NULL;
#line 320 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			_tmp3_ = self->priv->in_ch;
#line 320 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			g_io_channel_shutdown (_tmp3_, TRUE, &_inner_error_);
#line 320 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 1362 "Spawn.vala.c"
				goto __catch59_g_error;
			}
		}
#line 321 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		_tmp4_ = self->priv->out_ch;
#line 321 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		if (_tmp4_ != NULL) {
#line 1370 "Spawn.vala.c"
			GIOChannel* _tmp5_ = NULL;
#line 321 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			_tmp5_ = self->priv->out_ch;
#line 321 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			g_io_channel_shutdown (_tmp5_, TRUE, &_inner_error_);
#line 321 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 1378 "Spawn.vala.c"
				goto __catch59_g_error;
			}
		}
#line 322 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		_tmp6_ = self->priv->err_ch;
#line 322 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		if (_tmp6_ != NULL) {
#line 1386 "Spawn.vala.c"
			GIOChannel* _tmp7_ = NULL;
#line 322 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			_tmp7_ = self->priv->err_ch;
#line 322 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			g_io_channel_shutdown (_tmp7_, TRUE, &_inner_error_);
#line 322 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 1394 "Spawn.vala.c"
				goto __catch59_g_error;
			}
		}
	}
	goto __finally59;
	__catch59_g_error:
	{
		GError* e = NULL;
#line 319 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		e = _inner_error_;
#line 319 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		_inner_error_ = NULL;
#line 319 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		_g_error_free0 (e);
#line 1409 "Spawn.vala.c"
	}
	__finally59:
#line 319 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 319 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 319 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		g_clear_error (&_inner_error_);
#line 319 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		return;
#line 1420 "Spawn.vala.c"
	}
#line 327 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_g_io_channel_unref0 (self->priv->in_ch);
#line 327 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	self->priv->in_ch = NULL;
#line 328 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_g_io_channel_unref0 (self->priv->err_ch);
#line 328 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	self->priv->err_ch = NULL;
#line 329 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_g_io_channel_unref0 (self->priv->out_ch);
#line 329 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	self->priv->out_ch = NULL;
#line 333 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	self->priv->err_src = -1;
#line 334 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	self->priv->out_src = -1;
#line 1438 "Spawn.vala.c"
}


/**
     * write to stdin of process
     * @arg str {String} string to write to stdin of process
     * @returns GLib.IOStatus (0 == error, 1= NORMAL)
     */
static gchar* string_to_utf8 (const gchar* self, int* result_length1) {
	gchar* result = NULL;
	gchar* _result_ = NULL;
	gint _tmp0_ = 0;
	gint _tmp1_ = 0;
	gchar* _tmp2_ = NULL;
	gint _result__length1 = 0;
	gint __result__size_ = 0;
	gint _tmp3_ = 0;
	gchar* _tmp4_ = NULL;
	gint _tmp4__length1 = 0;
	gint _tmp5_ = 0;
	gint _tmp6_ = 0;
	gchar* _tmp7_ = NULL;
	gint _tmp7__length1 = 0;
#line 1406 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
	_tmp0_ = strlen (self);
#line 1406 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
	_tmp1_ = _tmp0_;
#line 1406 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
	_tmp2_ = g_new0 (gchar, _tmp1_ + 1);
#line 1406 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
	_result_ = _tmp2_;
#line 1406 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
	_result__length1 = _tmp1_ + 1;
#line 1406 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
	__result__size_ = _result__length1;
#line 1407 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
	_tmp3_ = _result__length1;
#line 1407 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
	_result__length1 = _tmp3_ - 1;
#line 1408 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
	_tmp4_ = _result_;
#line 1408 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
	_tmp4__length1 = _result__length1;
#line 1408 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
	_tmp5_ = strlen (self);
#line 1408 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
	_tmp6_ = _tmp5_;
#line 1408 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
	memcpy (_tmp4_, self, (gsize) _tmp6_);
#line 1409 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
	_tmp7_ = _result_;
#line 1409 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
	_tmp7__length1 = _result__length1;
#line 1409 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
	if (result_length1) {
#line 1409 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
		*result_length1 = _tmp7__length1;
#line 1496 "Spawn.vala.c"
	}
#line 1409 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
	result = _tmp7_;
#line 1409 "/usr/share/vala-0.32/vapi/glib-2.0.vapi"
	return result;
#line 1502 "Spawn.vala.c"
}


static gint spawn_write (Spawn* self, const gchar* str, GError** error) {
	gint result = 0;
	GIOChannel* _tmp0_ = NULL;
	gsize written = 0UL;
	GIOStatus res = 0;
	GIOChannel* _tmp1_ = NULL;
	const gchar* _tmp2_ = NULL;
	gint _tmp3_ = 0;
	gchar* _tmp4_ = NULL;
	gchar* _tmp5_ = NULL;
	gint _tmp5__length1 = 0;
	gsize _tmp6_ = 0UL;
	GIOStatus _tmp7_ = 0;
	GIOStatus _tmp8_ = 0;
	GIOStatus _tmp9_ = 0;
	const gchar* _tmp11_ = NULL;
	gint _tmp12_ = 0;
	gint _tmp13_ = 0;
	GError * _inner_error_ = NULL;
#line 346 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp0_ = self->priv->in_ch;
#line 346 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	if (_tmp0_ == NULL) {
#line 347 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		result = 0;
#line 347 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		return result;
#line 1533 "Spawn.vala.c"
	}
#line 353 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp1_ = self->priv->in_ch;
#line 353 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp2_ = str;
#line 353 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp4_ = string_to_utf8 (_tmp2_, &_tmp3_);
#line 353 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp5_ = _tmp4_;
#line 353 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp5__length1 = _tmp3_;
#line 353 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp7_ = g_io_channel_write_chars (_tmp1_, _tmp5_, _tmp3_, &_tmp6_, &_inner_error_);
#line 353 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	written = _tmp6_;
#line 353 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp8_ = _tmp7_;
#line 353 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp5_ = (g_free (_tmp5_), NULL);
#line 353 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	res = _tmp8_;
#line 353 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 353 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		g_propagate_error (error, _inner_error_);
#line 353 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		return 0;
#line 1561 "Spawn.vala.c"
	}
#line 357 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp9_ = res;
#line 357 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	if (_tmp9_ != G_IO_STATUS_NORMAL) {
#line 1567 "Spawn.vala.c"
		GError* _tmp10_ = NULL;
#line 358 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		_tmp10_ = g_error_new_literal (SPAWN_ERROR, SPAWN_ERROR_WRITE_ERROR, "Write failed");
#line 358 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		_inner_error_ = _tmp10_;
#line 358 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		g_propagate_error (error, _inner_error_);
#line 358 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		return 0;
#line 1577 "Spawn.vala.c"
	}
#line 361 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp11_ = str;
#line 361 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp12_ = strlen (_tmp11_);
#line 361 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_tmp13_ = _tmp12_;
#line 361 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	result = _tmp13_;
#line 361 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	return result;
#line 1589 "Spawn.vala.c"
}


/**
     * read from pipe and call appropriate listerner and add to output or stderr string.
     * @arg giochannel to read from.
     * @returns none
     */
static gboolean spawn_read (Spawn* self, GIOChannel* ch) {
	gboolean result = FALSE;
	GError * _inner_error_ = NULL;
#line 379 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	while (TRUE) {
#line 1603 "Spawn.vala.c"
		gchar* buffer = NULL;
		gsize term_pos = 0UL;
		gsize len = 0UL;
		GIOStatus status = 0;
		GIOStatus _tmp6_ = 0;
		{
			GIOStatus _tmp0_ = 0;
			GIOChannel* _tmp1_ = NULL;
			gchar* _tmp2_ = NULL;
			gsize _tmp3_ = 0UL;
			gsize _tmp4_ = 0UL;
			GIOStatus _tmp5_ = 0;
#line 385 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			_tmp1_ = ch;
#line 385 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			_tmp5_ = g_io_channel_read_line (_tmp1_, &_tmp2_, &_tmp3_, &_tmp4_, &_inner_error_);
#line 385 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			_g_free0 (buffer);
#line 385 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			buffer = _tmp2_;
#line 385 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			len = _tmp3_;
#line 385 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			term_pos = _tmp4_;
#line 385 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			_tmp0_ = _tmp5_;
#line 385 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 1632 "Spawn.vala.c"
				goto __catch60_g_error;
			}
#line 385 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			status = _tmp0_;
#line 1637 "Spawn.vala.c"
		}
		goto __finally60;
		__catch60_g_error:
		{
			GError* e = NULL;
#line 384 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			e = _inner_error_;
#line 384 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			_inner_error_ = NULL;
#line 388 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			_g_error_free0 (e);
#line 388 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			_g_free0 (buffer);
#line 388 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			break;
#line 1653 "Spawn.vala.c"
		}
		__finally60:
#line 384 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		if (G_UNLIKELY (_inner_error_ != NULL)) {
#line 384 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			_g_free0 (buffer);
#line 384 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			g_critical ("file %s: line %d: uncaught error: %s (%s, %d)", __FILE__, __LINE__, _inner_error_->message, g_quark_to_string (_inner_error_->domain), _inner_error_->code);
#line 384 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			g_clear_error (&_inner_error_);
#line 384 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			return FALSE;
#line 1666 "Spawn.vala.c"
		}
#line 394 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		_tmp6_ = status;
#line 394 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		switch (_tmp6_) {
#line 394 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			case G_IO_STATUS_NORMAL:
#line 1674 "Spawn.vala.c"
			{
				GIOChannel* _tmp7_ = NULL;
				GIOChannel* _tmp8_ = NULL;
				gboolean _tmp17_ = FALSE;
#line 402 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
				_tmp7_ = ch;
#line 402 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
				_tmp8_ = self->priv->out_ch;
#line 402 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
				if (_tmp7_ == _tmp8_) {
#line 1685 "Spawn.vala.c"
					const gchar* _tmp9_ = NULL;
					const gchar* _tmp10_ = NULL;
					gchar* _tmp11_ = NULL;
					const gchar* _tmp12_ = NULL;
#line 403 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
					_tmp9_ = self->output;
#line 403 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
					_tmp10_ = buffer;
#line 403 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
					_tmp11_ = g_strconcat (_tmp9_, _tmp10_, NULL);
#line 403 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
					_g_free0 (self->output);
#line 403 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
					self->output = _tmp11_;
#line 404 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
					_tmp12_ = buffer;
#line 404 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
					g_signal_emit_by_name (self, "output-line", _tmp12_);
#line 1704 "Spawn.vala.c"
				} else {
					const gchar* _tmp13_ = NULL;
					const gchar* _tmp14_ = NULL;
					gchar* _tmp15_ = NULL;
					const gchar* _tmp16_ = NULL;
#line 407 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
					_tmp13_ = self->stderr;
#line 407 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
					_tmp14_ = buffer;
#line 407 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
					_tmp15_ = g_strconcat (_tmp13_, _tmp14_, NULL);
#line 407 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
					_g_free0 (self->stderr);
#line 407 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
					self->stderr = _tmp15_;
#line 408 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
					_tmp16_ = buffer;
#line 408 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
					g_signal_emit_by_name (self, "output-line", _tmp16_);
#line 1724 "Spawn.vala.c"
				}
#line 414 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
				_tmp17_ = self->is_async;
#line 414 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
				if (_tmp17_) {
#line 1730 "Spawn.vala.c"
				}
#line 423 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
				continue;
#line 1734 "Spawn.vala.c"
			}
#line 394 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			case G_IO_STATUS_AGAIN:
#line 1738 "Spawn.vala.c"
			{
#line 426 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
				result = TRUE;
#line 426 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
				_g_free0 (buffer);
#line 426 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
				return result;
#line 1746 "Spawn.vala.c"
			}
#line 394 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			case G_IO_STATUS_ERROR:
#line 394 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			case G_IO_STATUS_EOF:
#line 1752 "Spawn.vala.c"
			{
#line 430 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
				result = FALSE;
#line 430 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
				_g_free0 (buffer);
#line 430 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
				return result;
#line 1760 "Spawn.vala.c"
			}
			default:
#line 394 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
			break;
#line 1765 "Spawn.vala.c"
		}
#line 434 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		_g_free0 (buffer);
#line 434 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		break;
#line 1771 "Spawn.vala.c"
	}
#line 438 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	result = FALSE;
#line 438 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	return result;
#line 1777 "Spawn.vala.c"
}


static void g_cclosure_user_marshal_STRING__VOID (GClosure * closure, GValue * return_value, guint n_param_values, const GValue * param_values, gpointer invocation_hint, gpointer marshal_data) {
	typedef const char* (*GMarshalFunc_STRING__VOID) (gpointer data1, gpointer data2);
	register GMarshalFunc_STRING__VOID callback;
	register GCClosure * cc;
	register gpointer data1;
	register gpointer data2;
	const char* v_return;
	cc = (GCClosure *) closure;
#line 47 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	g_return_if_fail (return_value != NULL);
#line 47 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	g_return_if_fail (n_param_values == 1);
#line 47 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	if (G_CCLOSURE_SWAP_DATA (closure)) {
#line 47 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		data1 = closure->data;
#line 47 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		data2 = param_values->data[0].v_pointer;
#line 1799 "Spawn.vala.c"
	} else {
#line 47 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		data1 = param_values->data[0].v_pointer;
#line 47 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		data2 = closure->data;
#line 1805 "Spawn.vala.c"
	}
#line 47 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	callback = (GMarshalFunc_STRING__VOID) (marshal_data ? marshal_data : cc->callback);
#line 47 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	v_return = callback (data1, data2);
#line 47 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	g_value_take_string (return_value, v_return);
#line 1813 "Spawn.vala.c"
}


static void g_cclosure_user_marshal_VOID__INT_STRING_STRING (GClosure * closure, GValue * return_value, guint n_param_values, const GValue * param_values, gpointer invocation_hint, gpointer marshal_data) {
	typedef void (*GMarshalFunc_VOID__INT_STRING_STRING) (gpointer data1, gint arg_1, const char* arg_2, const char* arg_3, gpointer data2);
	register GMarshalFunc_VOID__INT_STRING_STRING callback;
	register GCClosure * cc;
	register gpointer data1;
	register gpointer data2;
	cc = (GCClosure *) closure;
#line 47 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	g_return_if_fail (n_param_values == 4);
#line 47 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	if (G_CCLOSURE_SWAP_DATA (closure)) {
#line 47 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		data1 = closure->data;
#line 47 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		data2 = param_values->data[0].v_pointer;
#line 1832 "Spawn.vala.c"
	} else {
#line 47 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		data1 = param_values->data[0].v_pointer;
#line 47 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
		data2 = closure->data;
#line 1838 "Spawn.vala.c"
	}
#line 47 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	callback = (GMarshalFunc_VOID__INT_STRING_STRING) (marshal_data ? marshal_data : cc->callback);
#line 47 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	callback (data1, g_value_get_int (param_values + 1), g_value_get_string (param_values + 2), g_value_get_string (param_values + 3), data2);
#line 1844 "Spawn.vala.c"
}


static void spawn_class_init (SpawnClass * klass) {
#line 47 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	spawn_parent_class = g_type_class_peek_parent (klass);
#line 47 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	g_type_class_add_private (klass, sizeof (SpawnPrivate));
#line 47 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	G_OBJECT_CLASS (klass)->finalize = spawn_finalize;
#line 1855 "Spawn.vala.c"
	/**
	 * @signal input called at start to send input when process starts?
	 * @return the string or null 
	 */
#line 47 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	g_signal_new ("input", TYPE_SPAWN, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_user_marshal_STRING__VOID, G_TYPE_STRING, 0);
#line 1862 "Spawn.vala.c"
	/**
	 * @signal complete called at when the command has completed.
	 * 
	 */
#line 47 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	g_signal_new ("complete", TYPE_SPAWN, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_user_marshal_VOID__INT_STRING_STRING, G_TYPE_NONE, 3, G_TYPE_INT, G_TYPE_STRING, G_TYPE_STRING);
#line 1869 "Spawn.vala.c"
	/**
	 * @signal output_line called when a line is recieved from the process.
	 * Note you may want to connect this and run 
	 *   if ( Gtk.events_pending()) { Gtk.main_iteration(); }
	 * 
	 * @param {string} str 
	 */
#line 47 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	g_signal_new ("output_line", TYPE_SPAWN, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__STRING, G_TYPE_NONE, 1, G_TYPE_STRING);
#line 1879 "Spawn.vala.c"
}


static void spawn_instance_init (Spawn * self) {
#line 47 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	self->priv = SPAWN_GET_PRIVATE (self);
#line 72 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	self->is_async = TRUE;
#line 73 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	self->throw_exceptions = FALSE;
#line 74 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	self->detach = FALSE;
#line 96 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	self->priv->ctx = NULL;
#line 109 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	self->result = 0;
#line 113 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	self->priv->pid = -1;
#line 117 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	self->priv->in_ch = NULL;
#line 121 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	self->priv->out_ch = NULL;
#line 125 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	self->priv->err_ch = NULL;
#line 130 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	self->priv->err_src = -1;
#line 134 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	self->priv->out_src = -1;
#line 1908 "Spawn.vala.c"
}


static void spawn_finalize (GObject* obj) {
	Spawn * self;
#line 47 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, TYPE_SPAWN, Spawn);
#line 68 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_g_free0 (self->cwd);
#line 69 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	self->args = (_vala_array_free (self->args, self->args_length1, (GDestroyNotify) g_free), NULL);
#line 70 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	self->env = (_vala_array_free (self->env, self->env_length1, (GDestroyNotify) g_free), NULL);
#line 96 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_g_main_loop_unref0 (self->priv->ctx);
#line 101 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_g_free0 (self->output);
#line 105 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_g_free0 (self->stderr);
#line 117 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_g_io_channel_unref0 (self->priv->in_ch);
#line 121 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_g_io_channel_unref0 (self->priv->out_ch);
#line 125 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	_g_io_channel_unref0 (self->priv->err_ch);
#line 47 "/home/alan/gitlive/roobuilder/src/Spawn.vala"
	G_OBJECT_CLASS (spawn_parent_class)->finalize (obj);
#line 1936 "Spawn.vala.c"
}


/**
 * @class Spawn
 * @param cwd {String}            working directory. (defaults to home directory)
 * @param args {Array}            arguments eg. [ 'ls', '-l' ]
 * 
 
 * @arg env {Array}             enviroment eg. [ 'GITDIR=/home/test' ]
 * @arg is_async {Boolean} (optional)return instantly, or wait for exit. (default no)
 * @arg trhow_exceptions {Boolean}    throw exception on failure (default no)
 
 * 
 */
GType spawn_get_type (void) {
	static volatile gsize spawn_type_id__volatile = 0;
	if (g_once_init_enter (&spawn_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (SpawnClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) spawn_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (Spawn), 0, (GInstanceInitFunc) spawn_instance_init, NULL };
		GType spawn_type_id;
		spawn_type_id = g_type_register_static (G_TYPE_OBJECT, "Spawn", &g_define_type_info, 0);
		g_once_init_leave (&spawn_type_id__volatile, spawn_type_id);
	}
	return spawn_type_id__volatile;
}


static void _vala_array_destroy (gpointer array, gint array_length, GDestroyNotify destroy_func) {
#line 26 "/home/alan/gitlive/roobuilder/src/JsRender/NodeToGtk.vala"
	if ((array != NULL) && (destroy_func != NULL)) {
#line 1967 "Spawn.vala.c"
		int i;
#line 26 "/home/alan/gitlive/roobuilder/src/JsRender/NodeToGtk.vala"
		for (i = 0; i < array_length; i = i + 1) {
#line 26 "/home/alan/gitlive/roobuilder/src/JsRender/NodeToGtk.vala"
			if (((gpointer*) array)[i] != NULL) {
#line 26 "/home/alan/gitlive/roobuilder/src/JsRender/NodeToGtk.vala"
				destroy_func (((gpointer*) array)[i]);
#line 1975 "Spawn.vala.c"
			}
		}
	}
}


static void _vala_array_free (gpointer array, gint array_length, GDestroyNotify destroy_func) {
#line 26 "/home/alan/gitlive/roobuilder/src/JsRender/NodeToGtk.vala"
	_vala_array_destroy (array, array_length, destroy_func);
#line 26 "/home/alan/gitlive/roobuilder/src/JsRender/NodeToGtk.vala"
	g_free (array);
#line 1987 "Spawn.vala.c"
}



